[gd_scene load_steps=17 format=3 uid="uid://c6qcen12x0kl7"]

[ext_resource type="Script" uid="uid://bt2b4nicvgu64" path="res://Scripts/Game/main_menu.gd" id="1_5pknu"]
[ext_resource type="FontFile" uid="uid://chlag3glr1ni0" path="res://Fonts/alagard-12px-unicode.ttf" id="3_b7htb"]
[ext_resource type="Script" uid="uid://brfbvr1s5fcw" path="res://Scripts/Game/settings.gd" id="4_yl13b"]
[ext_resource type="Script" uid="uid://doijsxad0r83y" path="res://Scripts/Game/volume_settings.gd" id="5_3uny1"]
[ext_resource type="Texture2D" uid="uid://baaoj3tf6xeak" path="res://Sprites/Shop Sprites/button_actions.png" id="5_qmf6k"]
[ext_resource type="Texture2D" uid="uid://hln34c0rn5qu" path="res://Sprites/UI sprites/settings_icon.png" id="6_kqm77"]
[ext_resource type="Texture2D" uid="uid://df1pfsl7q77bw" path="res://Sprites/Main scene sprites/titleWhite.png" id="6_o8ral"]
[ext_resource type="AudioStream" uid="uid://b110pgsempv4k" path="res://Sound/Music/Wavemage_epic update1 fadeinfadeout.wav" id="7_kqm77"]
[ext_resource type="Texture2D" uid="uid://c0evjr3w5ruft" path="res://Sprites/Shop Sprites/button_actions_small.png" id="7_rn1t7"]
[ext_resource type="Script" uid="uid://cfhlscodxrhyk" path="res://Scripts/window_popup.gd" id="8_snj4n"]
[ext_resource type="Texture2D" uid="uid://dpdg3vjdx1tc4" path="res://Sprites/Main scene sprites/stars.png" id="10_yij4q"]
[ext_resource type="Texture2D" uid="uid://dwe0y0q7xtpds" path="res://Sprites/Main scene sprites/mage.png" id="11_o8ral"]
[ext_resource type="Texture2D" uid="uid://hfgtfroqwg1w" path="res://Sprites/Main scene sprites/grass.png" id="12_urxp8"]

[sub_resource type="Theme" id="Theme_3uny1"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_3uny1"]
bg_color = Color(0, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_v10og"]
bg_color = Color(0, 0, 0, 1)

[node name="Main Menu" type="Node2D" node_paths=PackedStringArray("parallax_bg")]
script = ExtResource("1_5pknu")
parallax_bg = NodePath("ParallaxBackground")

[node name="Camera2D" type="Camera2D" parent="."]
z_index = -2

[node name="title" type="TextureRect" parent="Camera2D"]
texture_filter = 4
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -481.0
offset_top = -282.0
offset_right = 463.0
offset_bottom = 468.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("6_o8ral")

[node name="Start Button" type="TextureButton" parent="Camera2D"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -104.0
offset_top = 72.0
offset_right = 101.0
offset_bottom = 153.0
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 2
texture_normal = ExtResource("5_qmf6k")

[node name="Label" type="Label" parent="Camera2D/Start Button"]
layout_mode = 0
offset_left = 23.5
offset_top = 16.5
offset_right = 185.5
offset_bottom = 58.5
theme_override_fonts/font = ExtResource("3_b7htb")
theme_override_font_sizes/font_size = 30
text = "NEW GAME"

[node name="continue Button" type="TextureButton" parent="Camera2D"]
offset_left = -104.0
offset_top = 187.5
offset_right = 101.0
offset_bottom = 268.5
mouse_default_cursor_shape = 2
texture_normal = ExtResource("5_qmf6k")

[node name="Label" type="Label" parent="Camera2D/continue Button"]
layout_mode = 0
offset_left = 23.5
offset_top = 16.5
offset_right = 185.5
offset_bottom = 58.5
theme_override_fonts/font = ExtResource("3_b7htb")
theme_override_font_sizes/font_size = 30
text = "CONTINUE"

[node name="asset used Button" type="TextureButton" parent="Camera2D"]
offset_left = 346.0
offset_top = 224.0
offset_right = 551.0
offset_bottom = 305.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource("5_qmf6k")

[node name="Label" type="Label" parent="Camera2D/asset used Button"]
layout_mode = 0
offset_left = 9.0
offset_top = 13.0
offset_right = 217.0
offset_bottom = 55.0
theme_override_fonts/font = ExtResource("3_b7htb")
theme_override_font_sizes/font_size = 27
text = "ASSETS USED"

[node name="Credits" type="Label" parent="Camera2D"]
offset_left = -447.0
offset_top = 183.0
offset_right = -168.0
offset_bottom = 305.0
theme_override_fonts/font = ExtResource("3_b7htb")
text = "DESIGN: Pancholope 
ART: Flavius045, Mint_rps
PROGRAMMING: Pancholope, CE-0
MUSIC: Lukas Pfeiffer 
SFX: Jaime54321"

[node name="Settings" type="TextureButton" parent="Camera2D"]
offset_left = -551.0
offset_top = 260.0
offset_right = -508.0
offset_bottom = 300.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource("7_rn1t7")

[node name="Sprite2D" type="Sprite2D" parent="Camera2D/Settings"]
position = Vector2(21, 18)
texture = ExtResource("6_kqm77")

[node name="ColorRect" type="ColorRect" parent="Camera2D"]
visible = false
z_index = -1096
offset_left = -597.0
offset_top = -337.0
offset_right = 602.0
offset_bottom = 363.0
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="main_menu_theme" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_kqm77")
autoplay = true
bus = &"Music"

[node name="Settings Popup" type="Control" parent="."]
process_mode = 1
visible = false
z_index = 1
layout_mode = 3
anchors_preset = 0
script = ExtResource("4_yl13b")

[node name="PanelContainer" type="PanelContainer" parent="Settings Popup"]
layout_mode = 0
offset_left = -205.0
offset_top = -161.0
offset_right = 199.0
offset_bottom = 102.0

[node name="VBoxContainer" type="VBoxContainer" parent="Settings Popup/PanelContainer"]
layout_mode = 2
theme_override_constants/separation = 70

[node name="Music Volume" type="Control" parent="Settings Popup/PanelContainer/VBoxContainer"]
layout_mode = 2
size_flags_stretch_ratio = 0.0
theme = SubResource("Theme_3uny1")
script = ExtResource("5_3uny1")
bus = "Music"

[node name="Slider" type="HSlider" parent="Settings Popup/PanelContainer/VBoxContainer/Music Volume"]
layout_mode = 0
offset_left = 85.0
offset_top = 2.0
offset_right = 337.0
offset_bottom = 64.0
theme_override_styles/grabber_area = SubResource("StyleBoxFlat_3uny1")
theme_override_styles/grabber_area_highlight = SubResource("StyleBoxFlat_v10og")
value = 100.0
tick_count = 10

[node name="Label" type="Label" parent="Settings Popup/PanelContainer/VBoxContainer/Music Volume"]
layout_mode = 0
offset_left = 9.0
offset_top = 21.0
offset_right = 60.0
offset_bottom = 44.0
theme_override_fonts/font = ExtResource("3_b7htb")
text = "MUSIC"

[node name="Volume" type="Label" parent="Settings Popup/PanelContainer/VBoxContainer/Music Volume"]
layout_mode = 0
offset_left = 354.0
offset_top = 23.0
offset_right = 394.0
offset_bottom = 46.0
theme_override_fonts/font = ExtResource("3_b7htb")

[node name="SFX Volume" type="Control" parent="Settings Popup/PanelContainer/VBoxContainer"]
layout_mode = 2
script = ExtResource("5_3uny1")
bus = "SFX"

[node name="Slider" type="HSlider" parent="Settings Popup/PanelContainer/VBoxContainer/SFX Volume"]
layout_mode = 0
offset_left = 85.0
offset_top = 2.0
offset_right = 337.0
offset_bottom = 64.0
theme_override_styles/grabber_area = SubResource("StyleBoxFlat_3uny1")
theme_override_styles/grabber_area_highlight = SubResource("StyleBoxFlat_v10og")
value = 100.0
tick_count = 10

[node name="Label" type="Label" parent="Settings Popup/PanelContainer/VBoxContainer/SFX Volume"]
layout_mode = 0
offset_left = 9.0
offset_top = 21.0
offset_right = 60.0
offset_bottom = 44.0
theme_override_fonts/font = ExtResource("3_b7htb")
text = "SFX"

[node name="Volume" type="Label" parent="Settings Popup/PanelContainer/VBoxContainer/SFX Volume"]
layout_mode = 0
offset_left = 354.0
offset_top = 23.0
offset_right = 394.0
offset_bottom = 46.0
theme_override_fonts/font = ExtResource("3_b7htb")

[node name="Control" type="Control" parent="Settings Popup/PanelContainer/VBoxContainer"]
layout_mode = 2

[node name="Save Settings" type="TextureButton" parent="Settings Popup/PanelContainer/VBoxContainer/Control"]
layout_mode = 2
offset_left = 84.0
offset_top = 14.0
offset_right = 292.0
offset_bottom = 95.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource("5_qmf6k")

[node name="Label" type="Label" parent="Settings Popup/PanelContainer/VBoxContainer/Control/Save Settings"]
layout_mode = 0
offset_left = 64.0
offset_top = 17.0
offset_right = 151.0
offset_bottom = 59.0
theme_override_fonts/font = ExtResource("3_b7htb")
theme_override_font_sizes/font_size = 30
text = "SAVE"

[node name="ColorRect" type="ColorRect" parent="Settings Popup"]
z_index = -1
layout_mode = 0
offset_left = -206.0
offset_top = -159.0
offset_right = 198.0
offset_bottom = 100.0
mouse_filter = 2
color = Color(0.341598, 0.067006, 0.0075516, 1)

[node name="Transparent BG" type="ColorRect" parent="Settings Popup"]
z_index = -2
layout_mode = 0
offset_left = -588.0
offset_top = -342.0
offset_right = 594.0
offset_bottom = 346.0
mouse_filter = 2
color = Color(0, 0, 0, 0.615686)

[node name="Assets_popup" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -574.0
offset_top = -319.0
offset_right = 576.0
offset_bottom = 324.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("8_snj4n")

[node name="ColorRect" type="ColorRect" parent="Assets_popup"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.29219, 0.29219, 0.29219, 1)

[node name="Label" type="RichTextLabel" parent="Assets_popup"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 75.0
offset_right = -42.0
grow_horizontal = 2
grow_vertical = 2
text = "Fire, poison effects: Brullov: https://brullov.itch.io/fire-animation 
Settings icon: https://opengameart.org/content/gear-pixel-art-32x32
Fire+Poison SFX: https://www.zapsplat.com/music/designed-fire-whoosh-medium-slow-heavy-and-powerful/
Drink potion SFX: https://www.zapsplat.com/music/two-drinking-glasses-full-of-water-or-other-drink-clink-together-cheers-celebration-version-3/
Poison SFX: https://www.zapsplat.com/music/witches-cauldron-bubbling-boiling/
Poison SFX: https://www.zapsplat.com/music/small-plastic-object-submerge-in-water-sinks-fills-with-water-and-bubbles-rise-to-the-surface-version-1/"
vertical_alignment = 1

[node name="close_window" type="Button" parent="Assets_popup"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -93.0
offset_top = -30.0
offset_right = 93.0
grow_horizontal = 2
grow_vertical = 0
mouse_default_cursor_shape = 2
text = "Close Asset Information"

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
scroll_ignore_camera_zoom = true

[node name="bg" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(561, 322)
motion_scale = Vector2(0.1, 0.1)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/bg"]
scale = Vector2(1.8, 1.8)
texture = ExtResource("10_yij4q")

[node name="front" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(556, 124)
motion_scale = Vector2(0.3, 0.3)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/front"]
scale = Vector2(1.6, 1.6)
texture = ExtResource("12_urxp8")

[node name="middle" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(561, 322)
motion_scale = Vector2(0.2, 0.2)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/middle"]
scale = Vector2(1.6, 1.6)
texture = ExtResource("11_o8ral")

[connection signal="pressed" from="Camera2D/Start Button" to="." method="start_game"]
[connection signal="pressed" from="Camera2D/continue Button" to="." method="continue_game"]
[connection signal="pressed" from="Camera2D/asset used Button" to="Assets_popup" method="_on_asset_used_button_pressed"]
[connection signal="button_down" from="Camera2D/Settings" to="." method="display_settings"]
[connection signal="value_changed" from="Settings Popup/PanelContainer/VBoxContainer/Music Volume/Slider" to="Settings Popup/PanelContainer/VBoxContainer/Music Volume" method="change_volume"]
[connection signal="value_changed" from="Settings Popup/PanelContainer/VBoxContainer/SFX Volume/Slider" to="Settings Popup/PanelContainer/VBoxContainer/SFX Volume" method="change_volume"]
[connection signal="button_down" from="Settings Popup/PanelContainer/VBoxContainer/Control/Save Settings" to="Settings Popup" method="save_settings"]
[connection signal="pressed" from="Assets_popup/close_window" to="Assets_popup" method="_on_close_window_pressed"]
