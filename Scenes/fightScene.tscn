[gd_scene load_steps=5 format=3 uid="uid://cmwrawjnsytee"]

[ext_resource type="Texture2D" uid="uid://ck8qkbfchmk86" path="res://icon.svg" id="1_d1vt0"]
[ext_resource type="Script" uid="uid://l8qslq27mojq" path="res://Scripts/Game/wave_controller.gd" id="1_viax6"]
[ext_resource type="PackedScene" uid="uid://c4meincvq4xs" path="res://Structures/duplicator.tscn" id="2_yk4my"]
[ext_resource type="Script" uid="uid://dtvjko8dykvcr" path="res://Scripts/Game/structure_pos_controller.gd" id="4_57ar5"]

[node name="fight" type="Node2D"]

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="waveStart" type="Node2D" parent="."]
position = Vector2(198, 327)

[node name="waveEnd1" type="Node2D" parent="."]
position = Vector2(930, 149)

[node name="Sprite2D" type="Sprite2D" parent="waveEnd1"]
position = Vector2(89.5, 204)
scale = Vector2(1.42969, 3.35938)
texture = ExtResource("1_d1vt0")

[node name="waveEnd2" type="Node2D" parent="."]
position = Vector2(929, 559)

[node name="duplicatePoint1" parent="." instance=ExtResource("2_yk4my")]
position = Vector2(545, 488)

[node name="wallPoint3" type="Node2D" parent="."]
position = Vector2(259, 253)

[node name="Sprite2D" type="Sprite2D" parent="wallPoint3"]
position = Vector2(1.25001, 50)
scale = Vector2(0.0664061, 0.765625)
texture = ExtResource("1_d1vt0")

[node name="wallPoint4" type="Node2D" parent="wallPoint3"]
position = Vector2(-1, 99)

[node name="wallPoint5" type="Node2D" parent="."]
position = Vector2(367, 143)

[node name="Sprite2D" type="Sprite2D" parent="wallPoint5"]
position = Vector2(-2.86102e-06, 22)
scale = Vector2(0.0625042, 0.335937)
texture = ExtResource("1_d1vt0")

[node name="wallPoint6" type="Node2D" parent="wallPoint5"]
position = Vector2(0, 44)

[node name="mirrorPoint1" type="Node2D" parent="."]
position = Vector2(310, 642)

[node name="Sprite2D" type="Sprite2D" parent="mirrorPoint1"]
position = Vector2(79.25, 3.00001)
scale = Vector2(1.26172, 0.0390626)
texture = ExtResource("1_d1vt0")

[node name="Sprite2D" type="Sprite2D" parent="mirrorPoint1/Sprite2D"]
position = Vector2(1.25001, 27)
scale = Vector2(0.0664061, 0.40625)
texture = ExtResource("1_d1vt0")

[node name="Sprite2D" type="Sprite2D" parent="mirrorPoint1/Sprite2D/Sprite2D"]
position = Vector2(1.25001, 27)
scale = Vector2(0.0664061, 0.40625)
texture = ExtResource("1_d1vt0")

[node name="mirrorPoint2" type="Node2D" parent="mirrorPoint1"]
position = Vector2(163, 1)

[node name="mirrorPoint3" type="Node2D" parent="."]
position = Vector2(447, 132)

[node name="Sprite2D" type="Sprite2D" parent="mirrorPoint3"]
position = Vector2(-51, 0)
scale = Vector2(0.822174, 0.0273437)
texture = ExtResource("1_d1vt0")

[node name="mirrorPoint4" type="Node2D" parent="mirrorPoint3"]
position = Vector2(-101, 1)

[node name="waveController" type="Node2D" parent="." node_paths=PackedStringArray("wave_start", "wave_end1", "wave_end2", "duplicator", "wall_point_3", "wall_point_4", "wall_point_5", "wall_point_6", "mirror_point_1", "mirror_point_2", "mirror_point_3", "mirror_point_4")]
script = ExtResource("1_viax6")
wave_start = NodePath("../waveStart")
wave_end1 = NodePath("../waveEnd1")
wave_end2 = NodePath("../waveEnd2")
duplicator = NodePath("../duplicatePoint1")
wall_point_3 = NodePath("../wallPoint3")
wall_point_4 = NodePath("../wallPoint3/wallPoint4")
wall_point_5 = NodePath("../wallPoint5")
wall_point_6 = NodePath("../wallPoint5/wallPoint6")
mirror_point_1 = NodePath("../mirrorPoint1")
mirror_point_2 = NodePath("../mirrorPoint1/mirrorPoint2")
mirror_point_3 = NodePath("../mirrorPoint3")
mirror_point_4 = NodePath("../mirrorPoint3/mirrorPoint4")

[node name="structurePosController" type="Node2D" parent="." node_paths=PackedStringArray("listStructures")]
script = ExtResource("4_57ar5")
listStructures = [NodePath("../duplicatePoint1")]

[node name="fightController" type="Node" parent="."]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -8.0
offset_top = -14.0
offset_right = -8.0
offset_bottom = -14.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Button" type="Button" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -31.0
offset_right = 68.0
grow_vertical = 0
text = "ATTACK"

[connection signal="pressed" from="CanvasLayer/Control/Button" to="waveController" method="_on_button_pressed"]
